{%- style -%}
.logo-bar--{{ section.id }} {
  opacity: {{ section.settings.logo_opacity | divided_by: 100.0 }};
}
  .logo-bar__item-container {
align-items: center;
    display: flex;
    flex-wrap: nowrap;
    justify-content: center;
    margin-bottom: -30px;
    text-align: center;}

@media only screen and (max-width:768px){
  .slider-arrow {
 position: absolute;
 top: 30%;
 transform: translateY(-50%);
 background: #009688;
 border: none;
height: 30px;
    width:30px;
    border-radius: 50%;
 cursor: pointer;
    z-index: 2;
    display: grid;
    place-content: center;
    
}
  .logo-bar {
    position: initial;
  }
.slider {
  position: relative;
}
.logo-bar__item-container {
  align-items: center;
    display: flex;
    flex-wrap: nowrap;
    justify-content: center;
    margin-bottom: -30px;
    text-align: center;
  padding: 0 20px 30px 20px;
  
}

.slider-arrow-left {
 left: -5px;
}

.slider-arrow-right {
 right: -5px;
}
  
}
{%- endstyle -%}

{%- if section.settings.divider -%}<div class="section--divider">{%- endif -%}

<div class="page-width" data-aos="logo__animation">
  {%- if section.settings.title != blank -%}
    <div class="section-header">
      <h2 class="section-header__title">{{ section.settings.title | escape }}</h2>
    </div>
  {%- endif -%}
<div class="slider">
  {%- if section.blocks.size > 0 -%}
    <div class="logo-bar logo-bar--{{ section.id }}">
    <button class="slider-arrow slider-arrow-left"><svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <path d="M15 18l-6-6 6-6"/>
</svg></button>
    <div class="logo-bar__item-container">
      {%- for block in section.blocks -%}
        <div class="logo-bar__item" {{ block.shopify_attributes }}>
          {%- if block.settings.link != blank -%}
            <a href="{{ block.settings.link }}" class="logo-bar__link">
          {%- endif -%}
          {%- if block.settings.image != blank -%}
            {%- render 'image-element',
              img: block.settings.image,
              widths: '180, 360, 540, 720',
              classes: 'logo-bar__image',
              sizeVariable: '160px',
              fallback: '110px',
            -%}
          {%- else -%}
            {{ 'logo' | placeholder_svg_tag: 'placeholder-svg' }}
          {%- endif -%}
        {%- if block.settings.text != blank -%}
                      <div class="card-footer-xs">
                        <p>{{ block.settings.text }}</p>
                      </div>
                      {%- endif -%}
          {%- if block.settings.link != blank -%}
            </a>
          {%- endif -%}
        </div>
      {%- endfor -%}
    </div>
         <button class="slider-arrow slider-arrow-right">
         <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" width="20" height="20" fill="none" stroke="#fff" stroke-width="3" stroke-linecap="round" stroke-linejoin="round">
  <path d="M9 18l6-6-6-6"/>
</svg>  
         </button>
    
    </div>
  {%- endif -%}
  </div>
</div>
<script>
  const logoBarContainer = document.querySelector('.logo-bar');
  const logoBarItemContainer = document.querySelector('.logo-bar__item-container');
  const logoBarArrowLeft = document.querySelector('.slider-arrow-left');
  const logoBarArrowRight = document.querySelector('.slider-arrow-right');

  let scrollAmount = 120; // Adjust the scroll amount based on your needs

  logoBarArrowLeft.addEventListener('click', () => scrollLogoBar(-1));
  logoBarArrowRight.addEventListener('click', () => scrollLogoBar(1));

  function scrollLogoBar(direction) {
     logoBarContainer.scrollTo({
  left: logoBarContainer.scrollLeft + direction * scrollAmount,
  behavior: 'smooth'
 });
  }
</script>
{%- if section.settings.divider -%}</div>{%- endif -%}

{% schema %}
{
  "name": "t:sections.logo-list.name",
  "class": "index-section",
  "max_blocks": 10,
  "settings": [
    {
      "type": "text",
      "id": "title",
      "label": "t:sections.logo-list.settings.title.label"
    },
    {
      "type": "range",
      "id": "logo_opacity",
      "label": "t:sections.logo-list.settings.logo_opacity.label",
      "default": 76,
      "min": 0,
      "max": 100,
      "step": 2,
      "unit": "%"
    },
    {
      "type": "checkbox",
      "id": "divider",
      "label": "t:sections.logo-list.settings.divider.label",
      "default": false
    }
  ],
  "blocks": [
    {
      "type": "logo_image",
      "name": "t:sections.logo-list.blocks.logo.name",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "t:sections.logo-list.blocks.logo.settings.image.label"
        },
        {
            "type": "text",
            "id": "text",
            "label": "Text",
            "default":"Add text here"
          },
        {
          "type": "url",
          "id": "link",
          "label": "t:sections.logo-list.blocks.logo.settings.link.label",
          "info": "t:sections.logo-list.blocks.logo.settings.link.info"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "t:sections.logo-list.presets.logo_list.name",
      "blocks": [
        {
          "type": "logo_image"
        },
        {
          "type": "logo_image"
        },
        {
          "type": "logo_image"
        },
        {
          "type": "logo_image"
        }
      ]
    }
  ],
  "disabled_on": {
    "groups": ["footer", "header", "custom.popups"]
  }
}
{% endschema %}
